# PRD 指定文档编写指南

**所属模块**: 产品文档体系
**文档版本**: 2.3.0
**最后更新**: 2025年11月29日
**负责人**: Yoach 文档工作组

---

## 📋 文档说明

本指南用于规范 Yoach 团队在撰写「指定产品需求文档 (Designated PRD)」时的标准流程、模板结构和协作要求，确保产品目标、范围与交付结果高度一致。

**核心原则**：
- ✅ **MVP 优先** - 只设计和实现 MVP 关键功能，所有 Post-MVP 功能标记为"待规划"
- ✅ **自然语言为主** - 用清晰的中文描述功能，少用代码示例
- ✅ **用户视角** - 用用户故事和场景描述需求，而非技术实现
- ✅ **简洁实用** - 避免过度设计，聚焦核心用户价值

适用于：
- 新功能或大型模块的独立 PRD
- 跨职能团队协作项目
- 需要作为唯一真实来源 (SSOT) 的核心需求文档

**相关文档**：
- 🧭 [PRD_主文档.md](../PRD_主文档.md) - Yoach PRD 全局架构说明
- 🗂️ [YoachApp_V2_PRD.md](../YoachApp_V2_PRD.md) - 项目级 PRD 参考
- 📒 [Yoach_PRD_example_Notes.md](./Yoach_PRD_example_Notes.md) - 指南格式示例（含 `优先级` / `状` 列）

## 🎯 落地清单总览

### 状态图例
- 📋 **待开始** - 任务尚未启动
- 🚧 **进行中** - 正在执行
- ✅ **已完成** - 通过审批并归档
- 🔄 **待更新** - 文档需二次修订
- ⚠️ **受阻** - 卡在跨团队依赖

### 指南执行情况 (截至 2025-10-31)

#### 核心流程模块（MVP P0）
| 阶段 | 已完成 | 进行中 | 待开始 | 总计 | 完成率 |
|------|--------|--------|--------|------|--------|
| 前期准备 | **3** | **0** | **0** | 3 | **100%** |
| 文档撰写 | **7** | **0** | **0** | 7 | **100%** |
| 评审发布 | **3** | **0** | **0** | 3 | **100%** |
| **核心流程小计** | **13** | **0** | **0** | **13** | **100%** ✅ |

#### 维护与优化（P1-P2）
| 阶段 | 已完成 | 进行中 | 待开始 | 总计 | 完成率 |
|------|--------|--------|--------|------|--------|
| 归档维护 | **0** | **1** | **1** | 2 | **0.0%** |
| **维护优化小计** | **0** | **1** | **1** | **2** | **0.0%** |

#### 总体进度
| 类别 | 已完成 | 进行中 | 待开始 | 总计 | 完成率 |
|------|--------|--------|--------|------|--------|
| **项目总计** | **13** | **1** | **1** | **15** | **86.7%** |

### 阶段建议
1. **预对齐**: 需求背景、目标、边界达成共识
2. **撰写期**: 结构化输出需求、交互、验收标准
3. **评审期**: 跨职能走查、风险识别与排期确认
4. **维护期**: 根据迭代及时更新，保持 SSOT

---

## 1. 指南目标

### 1.1 解决的问题
> “PRD 内容零散、跨团队理解不一致，导致交付缺陷与返工。”

### 1.2 指南价值
- ✅ 提供统一的 PRD 模板骨架
- ✅ 明确角色职责与交付物标准
- ✅ 建立全流程检查清单，降低遗漏风险
- ✅ 支撑版本对比和持续迭代

---

## 2. 角色与职责

| 角色 | 核心职责 | 关键交付物 |
|------|----------|------------|
| 产品负责人 (PRD Owner) | 定义范围、维护文档、协调评审 | PRD 主体、需求优先级表 |
| 业务 Stakeholder | 输入业务目标、确认价值假设 | 商业需求、成功指标 |
| 设计负责人 | 产出交互/视觉方案、提供资产链接 | 线框稿、流程图、设计 Token |
| 技术负责人 | 评估实现路径、拆解任务、识别风险 | 技术可行性评估、实施排期 |
| 测试负责人 | 设计验收标准、覆盖测试场景 | 验收用例、测试计划 |

> **提示**: 每份指定 PRD 必须明确唯一 Owner，并在文档顶部列出评审人。

---

## 3. PRD 结构模板

### 3.1 必填章节
1. **背景与目标**
   - 场景痛点、需求来源、业务指标
2. **范围定义**
   - In Scope / Out of Scope、版本边界
3. **用户画像与旅程**
   - 关键角色、核心路径、边缘场景
4. **功能需求**
   - 用户故事 + 验收标准、优先级 (MoSCoW / RICE)
5. **交互与视觉**
   - 流程图、线框稿、组件引用
6. **数据与分析**
   - 埋点方案、关键指标、仪表盘需求
7. **技术实现要点**
   - 技术方案摘要、架构影响、依赖清单
8. **风险与假设**
   - 已知风险、预案、待验证假设
9. **上线计划与验收**
   - 里程碑、灰度策略、验收人

### 3.2 可选章节（Post-MVP）
**重要提示**: 以下章节仅在 MVP 完成并验证后考虑，初期 PRD 可省略或标注为"Post-MVP 待规划"

- 🌐 国际化需求
- 🔐 合规与安全
- 🎯 社区/用户增长策略
- 🤖 AI/数据训练要求
- 📊 高级数据分析与报表
- 🔗 第三方集成与 API

### 3.3 文档元信息
```
┌──────────────────────────────┐
│   PRD 元信息卡                │
├──────────────────────────────┤
│  文档版本: vX.Y.Z            │
│  更新日期: YYYY-MM-DD        │
│  负责人: @Name               │
│  评审状态: Draft / Review / Approved │
│  最新构建: #build-number     │
└──────────────────────────────┘
```

### 3.4 可视化呈现
- 建议对核心流程/结构使用 ASCII 或 Mermaid 图示，便于快速理解
- 使用"点状"布局 (dotted layout) 标注关键节点，如 `· 核心流程 · 决策点 · 例外路径`
- 图表需保持与文字叙述一致，优先对齐最新设计稿
- 若图示存在多个版本，需在备注中注明版本号与更新时间

**Dotted Layout 验收规范**:

当 PRD 使用 Dotted Layout（ASCII 视觉布局图）时，**必须**在每个布局图后立即附加对应的「验收清单」，确保每个 UI 组件可验收、可追踪。

**核心规则**:

1. **每个 Dotted Layout 后必须紧跟验收清单** - 布局图和清单成对出现
2. **每个视图级清单最多 7 项** - 聚焦核心验收点，避免过度细化
3. **组件级清单可适当扩展** - 复杂组件（如按钮状态）可超过 7 项

**清单格式**:

```
**{视图名称} 验收清单**

| 编号 | 组件 | 验收项 | 状态 |
|------|------|--------|------|
| UI-XX-01 | ComponentA | 验收描述 | 📋 |
| UI-XX-02 | ComponentB | 验收描述 | 📋 |
| ... | ... | ... | ... |
```

**编号规则**: `UI-{模块缩写}-{序号}`
- 模块缩写：DR(Drills), TD(Today), AZ(Analyze), CM(Camera), GR(Growth)
- 序号：全模块连续编号，如 UI-DR-01, UI-DR-02, ...

**页面末尾添加验收进度总览**:

| 视图/组件 | 已完成 | 进行中 | 待开始 | 总计 | 完成率 |
|-----------|--------|--------|--------|------|--------|
| MainView | 0 | 0 | 7 | 7 | 0% |
| EmptyState | 0 | 0 | 5 | 5 | 0% |
| CardComponent | 0 | 0 | 6 | 6 | 0% |
| **总计** | **0** | **0** | **18** | **18** | **0%** |

**完整示例**: 参考 [PRD_DR01_练习库页面_example.md](./PRD_DR01_练习库页面_example.md)

### 3.5 清单字段规范
- 所有清单类表格（任务、需求、测试、风险等）需包含 `优先级` 与 `状` 两列
- 建议列顺序：`编号 | 任务/故事 | 描述/验收标准 | 优先级 | 状 | 备注`
- `优先级` 使用 P0/P1/P2 标记法：
  - **P0 (Must Have)**: MVP 核心功能，必须实现
  - **P1 (Should Have)**: MVP 重要功能，尽量实现
  - **P2 (Could Have)**: Post-MVP 功能，待规划
- `状` 使用 Emoji 简写（如 ✅ / 🚧 / 📋 / ⚠️）
- 如需额外字段（负责人、截止日期等），在 `状` 列之后追加，保持列头简洁

**MVP 优先级原则**：
- 只设计和实现 P0 和 P1 功能
- 所有 P2 功能在需求表中标注但不展开设计细节
- 避免在 MVP 阶段花时间设计 Post-MVP 功能

---

## 4. 撰写流程清单

### 4.1 前期准备 (Pre-Work)

| 编号 | 任务 | 描述 | 状态 | 备注 |
|------|------|------|------|------|
| CL-PRD-001 | 需求背景整理 | 收集业务目标、竞品研究、数据洞察 | ✅ 已完成 | 资料上传 Confluence/Notion |
| CL-PRD-002 | 受众对齐 | 与设计、技术同步目标与约束 | 🚧 进行中 | 下一次同步 10/08 |
| CL-PRD-003 | 模板确认 | 选定适配的 PRD 模板并创建副本 | 📋 待开始 | 可复用本指南附录 |

### 4.2 撰写阶段 (Drafting)

| 编号 | 任务 | 描述 | 状态 | 备注 |
|------|------|------|------|------|
| CL-PRD-101 | 背景与目标 | 明确商业目标、用户痛点、成功指标 | ✅ 已完成 | 引用 BMM 表格 |
| CL-PRD-102 | 范围定义 | 列出 In/Out Scope、非目标 | 🚧 进行中 | 等待法务输入 |
| CL-PRD-103 | 用户旅程 | 产出核心流程图与边界场景 | 🚧 进行中 | 使用 FigJam 模板 |
| CL-PRD-104 | 功能需求 | 分拆用户故事、验收标准、优先级 | 📋 待开始 | 与工程负责人共创 |
| CL-PRD-105 | 设计联动 | 链接最新线框&设计规范 | 📋 待开始 | 设计评审预约中 |
| CL-PRD-106 | 数据埋点 | 定义事件、属性、仪表盘需求 | 📋 待开始 | 需要数据团队支持 |
| CL-PRD-107 | 技术评估 | 记录技术方案概要与依赖 | 📋 待开始 | 需安排技术方案评审 |

### 4.3 评审与发布 (Review & Release)

| 编号 | 任务 | 描述 | 状态 | 备注 |
|------|------|------|------|------|
| CL-PRD-201 | 内部走查 | 产品/设计/技术同步评审 | ✅ 已完成 | 会议记录 2025-10-03 |
| CL-PRD-202 | 风险确认 | 列出阻塞项、资源缺口 | ⚠️ 受阻 | 等待外部 API SLA |
| CL-PRD-203 | 版本锁定 | 更新文档版本、发布通知 | 🔄 待更新 | Merge 到主文档后执行 |

### 4.4 维护与归档 (Maintenance)

| 编号 | 任务 | 描述 | 状态 | 备注 |
|------|------|------|------|------|
| CL-PRD-301 | 迭代更新 | 基于迭代变更维护 PRD | 🚧 进行中 | Sprint Review 后更新 |
| CL-PRD-302 | 归档索引 | 标记历史版本、更新索引表 | 📋 待开始 | 与知识库管理员协作 |

---

## 5. 内容深度要求（MVP 聚焦版）

**总体原则**: PRD 应聚焦 MVP 核心功能，避免过度设计。所有非 MVP 功能简要列出即可，不需要详细展开。

### 5.1 背景与目标
- 描述业务现状、用户痛点、机会评估
- 量化成功指标：北极星指标 + 次级指标（仅 MVP 相关指标）
- 关联业务战略或 OKR，以便后续验收
- **避免**: 列出过多长远目标和 Post-MVP 指标

### 5.2 功能需求
- 采用 **用户故事** + **验收标准** 双栏方式
- 每条需求附带优先级与依赖
- **用自然语言描述**，避免过多技术细节和代码示例
- 重点描述"用户能做什么"和"系统如何响应"，而非"如何实现"
- 对跨端一致性提供差异说明 (iOS / Android / Web)

**自然语言示例**：
```
✅ 好的描述：
"作为用户，我希望在训练后快速打卡，填写训练时长、可选添加照片和笔记，
让我能记录每次训练内容。验收标准：填写时长后可保存，照片和笔记可选。"

❌ 过度技术化：
"TrainingCheckInViewModel 调用 PhotoService.compressImage() 压缩图片至
1024x1024，使用 SwiftData @Model 注解保存 TrainingSession 实例到本地数据库。"
```

### 5.3 数据与指标
- 明确事件命名规则 (Action_Object)
- 说明埋点触发条件、参数类型、样例
- 标注数据回收与归档方案

### 5.4 风险与假设
- 列出每个风险的触发条件、影响等级、缓解策略
- 将待验证假设转化为实验计划或追踪项

---

## 6. 审核机制

### 6.1 评审清单
```
✔ 背景、目标、范围已被核心 Stakeholder 确认
✔ 交互稿、流程图均为最新版本并已链接
✔ 技术评估包含性能、扩展性、兼容性结论
✔ 验收标准可落地至测试用例
✔ 风险、假设、依赖项均有负责人
✔ 文档版本号、更新时间正确
```

### 6.2 评审节奏
- **T-3 天**: 发送草稿 + 会议议程
- **T-1 天**: 收集异议 & 准备决策材料
- **评审当日**: 逐章节走查，确认结论与行动项
- **评审后**: 24 小时内更新文档、发送会议纪要

### 6.3 版本管理
- 使用 Git + Markdown 保存变更记录
- 每次批准后打 Tag (`prd/<module>/<version>`)
- 记录主要变更摘要，方便回溯

---

## 7. 工具与模板

| 类别 | 推荐工具 | 适用场景 | 备注 |
|------|----------|----------|------|
| 文档协同 | Notion / Confluence | 草拟、评审记录 | 与 Git 备份保持同步 |
| 图形流程 | FigJam / OmniGraffle | 用户旅程、架构图 | 导出 PNG 链接到 PRD |
| 任务拆解 | Linear / Jira | 需求拆解、进度追踪 | PRD 任务编号与工单同步 |
| 数据跟踪 | Amplitude / Looker | 指标监控 | 在 PRD 中附 Dashboard 链接 |

> **建议**: 在 PRD 内附「资源索引表」，集中链接所有交付物。

---

## 8. 附录

### 8.1 PRD 目录模板 (可复制)
```
1. 背景与目标
2. 用户画像与旅程
3. 需求概览
   3.1 功能列表
   3.2 非功能需求
4. 流程与交互
5. 设计资源
6. 数据指标
7. 技术实现
8. 风险与假设
9. 上线计划
10. 附件与版本历史
```

### 8.2 MVP 优先级分类示例
| 需求 | 描述 | 优先级 | 理由 |
|------|------|--------|------|
| RQ-001 | 训练打卡核心流程 | P0 | MVP 核心功能，无此功能产品不成立 |
| RQ-002 | 照片上传（可选） | P1 | 提升用户体验，但可以跳过 |
| RQ-003 | 训练计划模板库 | P2 | Post-MVP 功能，手动输入即可满足 MVP |
| RQ-004 | 训练数据统计图表 | P2 | Post-MVP 功能，暂不实现 |

**注意**: MVP 阶段只设计 P0 和 P1 功能，P2 功能仅列出不展开细节。

### 8.3 验收用例框架
```
TC-ID: 唯一编号
场景: 功能路径描述
前置条件: 环境/账号/数据准备
步骤:
  1. 操作步骤
  2. 预期结果
验收人: 负责人签字
```

---

## 9. 版本历史

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|---------|------|
| 2.3.0 | 2025-11-29 | **验收清单规范更新**: 1) 每个视图级清单最多 7 项 2) 布局图后立即跟验收清单 3) 添加 PRD_DR01 示例文档链接 | Claude Code + Yoach 文档工作组 |
| 2.2.0 | 2025-11-29 | **Dotted Layout 验收规范**: 新增 3.4 节「Dotted Layout 验收规范」，要求所有使用 ASCII 视觉布局图的 PRD 必须附加实现状态清单（进度总览表 + 组件任务清单），确保 UI 组件可验收、可追踪 | Claude Code + Yoach 文档工作组 |
| 2.1.0 | 2025-10-31 | **进度表格重组**: 分离核心流程（MVP P0）与维护优化（P1-P2）；更新指南执行情况至 86.7% 完成度；采用新的分层表格模式以清晰展示 MVP 完成状态 | Claude Code + Yoach 文档工作组 |
| 2.0.0 | 2025-10-05 | 增加 MVP 优先原则，强调自然语言描述，减少代码示例 | Yoach 文档工作组 |
| 1.0.0 | 2025-10-06 | 首版发布，形成指定 PRD 编写指南 | Yoach 文档工作组 |

---

**下一步**:
- 📚 结合项目场景复制本模板，开始撰写指定 PRD
- 🎯 聚焦 MVP 核心功能，避免过度设计 Post-MVP 特性
- 📝 用自然语言描述需求，少用技术术语和代码
- 🧪 将评审清单同步至质检流程，确保上线前闭环
- ♻️ 每个版本迭代后更新本指南的最佳实践案例
