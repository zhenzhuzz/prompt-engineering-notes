# Yoach RLab V1

**ç‰ˆæœ¬**: v3.3.0
**æ–‡æ¡£ç±»å‹**: ORG æ–‡æ¡£ï¼ˆOrganization-level Module Introductionï¼‰
**æ›´æ–°æ—¥æœŸ**: 2025-11-30
**ç›®æ ‡è¯»è€…**: äº§å“å›¢é˜Ÿã€å¼€å‘å›¢é˜Ÿã€æ•™ç»ƒå›¢é˜Ÿ

**æ–‡æ¡£ç›®çš„**: æœ¬æ–‡æ¡£å®šä¹‰ Yoach RLab V1 çš„ç®€åŒ–4é˜¶æ®µè§†é¢‘åˆ†æç®¡çº¿æ¶æ„ï¼Œ
æ˜ç¡®"è¿™æ˜¯ä»€ä¹ˆ"ä»¥åŠ"å¦‚ä½•å·¥ä½œ"ï¼Œä¸ºåç»­å¼€å‘å’Œç»´æŠ¤æä¾›æŒ‡å¼•ã€‚

---

## ç›®å½•

- [1. æ¨¡å—å®šä¹‰](#1-æ¨¡å—å®šä¹‰)
- [2. 4é˜¶æ®µç®¡çº¿æ¶æ„](#2-4é˜¶æ®µç®¡çº¿æ¶æ„)
- [3. æ ¸å¿ƒè®¾è®¡åŸåˆ™](#3-æ ¸å¿ƒè®¾è®¡åŸåˆ™)
- [4. æ•°æ®ç»“æ„è§„èŒƒ](#4-æ•°æ®ç»“æ„è§„èŒƒ)
- [5. ç³»ç»Ÿå¸ƒå±€](#5-ç³»ç»Ÿå¸ƒå±€)
- [6. ç”¨æˆ·ç•Œé¢è®¾è®¡](#6-ç”¨æˆ·ç•Œé¢è®¾è®¡)
- [7. ç”¨æˆ·ä½“éªŒæµç¨‹](#7-ç”¨æˆ·ä½“éªŒæµç¨‹)
- [8. æŠ€æœ¯ç»„ä»¶](#8-æŠ€æœ¯ç»„ä»¶)

---

## 1. æ¨¡å—å®šä¹‰

### 1.1 ä¸€å¥è¯å®šä¹‰

> **Yoach RLab V1** æ˜¯ä¸€ä¸ªç®€åŒ–çš„4é˜¶æ®µè§†é¢‘åˆ†æç³»ç»Ÿï¼Œé€šè¿‡
> "å¸§æå– â†’ AIåˆ†æ â†’ æŠ¥å‘Šç”Ÿæˆ â†’ ä¿å­˜å®Œæˆ"
> çš„é«˜æ•ˆæµç¨‹ï¼Œä¸ºç”¨æˆ·æä¾›ç§‘å­¦æ”¯æ’‘çš„åŠ¨ä½œæ”¹è¿›å»ºè®®ã€‚

### 1.2 æ ¸å¿ƒèƒ½åŠ›

```
+------------------+--------------------------------+---------------------+
|       èƒ½åŠ›       |             è¯´æ˜               |      æŠ€æœ¯å®ç°       |
+------------------+--------------------------------+---------------------+
| è§†é¢‘å¸§æå–       | è‡ªåŠ¨æå–å…³é”®å¸§ç”»é¢             | Canvas API          |
| è§†é¢‘ç†è§£         | AIåˆ†æåŠ¨ä½œå¹¶ç”Ÿæˆç»“æ„åŒ–æŠ¥å‘Š     | Gemini Vision API   |
| æŠ¥å‘Šç”Ÿæˆ         | å›ºå®šJSONæ ¼å¼çš„åˆ†ææŠ¥å‘Š         | responseSchema      |
| æ–‡çŒ®æ”¯æ’‘         | æ¯æ¡å»ºè®®å…³è”ç ”ç©¶è®ºæ–‡           | RAG (ChromaDB)      |
| è¯­éŸ³æ’­æ”¾         | AIå›å¤è‡ªåŠ¨æœ—è¯»                 | Gemini TTS API      |
| æŠ¥å‘Šå­˜å‚¨         | è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°reports/æ–‡ä»¶å¤¹   | FastAPI Backend     |
+------------------+--------------------------------+---------------------+
```

### 1.3 ä¸ä¼ ç»Ÿæ–¹æ¡ˆçš„åŒºåˆ«

```
+-----------------------------------------------------------------------+
|                        ä¼ ç»Ÿè§†é¢‘åˆ†æ vs Yoach RLab                      |
+-----------------------------------------------------------------------+
|                                                                       |
|  ä¼ ç»Ÿæ–¹æ¡ˆ:                                                            |
|  +----------+     +----------+     +----------+                       |
|  |  ä¸Šä¼     | --> |  AIåˆ†æ  | --> |  å»ºè®®    |  (é»‘ç›’ï¼Œæ— æ³•è¿½æº¯)     |
|  +----------+     +----------+     +----------+                       |
|                                                                       |
|  Yoach RLab V1:                                                       |
|  +----------+     +----------+     +----------+     +----------+      |
|  |  å¸§æå–  | --> |  AIåˆ†æ  | --> |  æŠ¥å‘Š    | --> |  å¯¹è¯    |      |
|  +----------+     +----------+     +----------+     +----------+      |
|       |                |                |                |            |
|       v                v                v                v            |
|   3å¸§ç”»é¢         Gemini API       å›ºå®šJSONæ ¼å¼     RAGå¼•æ–‡æ”¯æ’‘       |
|                                         |                             |
|                                         v                             |
|                                    æœ¬åœ°å­˜å‚¨                           |
|                                   ./reports/                          |
+-----------------------------------------------------------------------+
```

---

## 2. 4é˜¶æ®µç®¡çº¿æ¶æ„

### 2.1 ç®¡çº¿å…¨æ™¯å›¾

```
+=========================================================================+
||                   YOACH RLAB V1 - ç®€åŒ–4é˜¶æ®µç®¡çº¿                       ||
+=========================================================================+
|                                                                         |
|  +-------------------------------------------------------------------+  |
|  |  STAGE 1: å¸§æå– (Frame Capture)                                  |  |
|  |  -----------------------------------------------------------------|  |
|  |  è¾“å…¥: ç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘æ–‡ä»¶ (MP4/MOV/WebM)                          |  |
|  |  å¤„ç†: ç­‰åˆ†è§†é¢‘æ—¶é•¿ -> æå–3ä¸ªå…³é”®å¸§ -> Base64ç¼–ç                 |  |
|  |  è¾“å‡º: frames[] = [{ data: base64, time: number }]                |  |
|  |  è€—æ—¶: 300-500ms (æœ¬åœ°æµè§ˆå™¨Canvas)                               |  |
|  +-------------------------------------------------------------------+  |
|                                     |                                   |
|                                     v                                   |
|  +-------------------------------------------------------------------+  |
|  |  STAGE 2: AIåˆ†æ (AI Analysis) â˜… ä¸»è¦ç“¶é¢ˆ                         |  |
|  |  -----------------------------------------------------------------|  |
|  |  è¾“å…¥: 3å¸§Base64å›¾åƒ + è¿åŠ¨ç±»å‹ + åŠ¨ä½œç±»å‹                        |  |
|  |  å¤„ç†: Gemini Vision API -> responseSchemaå¼ºåˆ¶æ ¼å¼                |  |
|  |  è¾“å‡º: MovementAnalysisReport (å›ºå®šJSONç»“æ„)                      |  |
|  |  è€—æ—¶: 3-8ç§’ (è¿œç¨‹APIè°ƒç”¨)                                        |  |
|  +-------------------------------------------------------------------+  |
|                                     |                                   |
|                                     v                                   |
|  +-------------------------------------------------------------------+  |
|  |  STAGE 3: æŠ¥å‘Šç”Ÿæˆ (Report Generation)                            |  |
|  |  -----------------------------------------------------------------|  |
|  |  è¾“å…¥: MovementAnalysisReport                                     |  |
|  |  å¤„ç†: æ›´æ–°UIçŠ¶æ€ -> ä¿å­˜åˆ°localStorage                           |  |
|  |  è¾“å‡º: å¯è§†åŒ–æŠ¥å‘Šå¡ç‰‡ (ReportCardç»„ä»¶)                            |  |
|  |  è€—æ—¶: 10-50ms (æœ¬åœ°)                                             |  |
|  +-------------------------------------------------------------------+  |
|                                     |                                   |
|                                     v                                   |
|  +-------------------------------------------------------------------+  |
|  |  STAGE 4: ä¿å­˜å®Œæˆ (Save & Complete)                              |  |
|  |  -----------------------------------------------------------------|  |
|  |  è¾“å…¥: MovementAnalysisReport + sport + movementType              |  |
|  |  å¤„ç†: ä¼˜å…ˆåç«¯ä¿å­˜ï¼Œå¤±è´¥åˆ™æµè§ˆå™¨ä¸‹è½½                             |  |
|  |    1) å°è¯• POST /api/reports/save -> å†™å…¥ ./reports/              |  |
|  |    2) åç«¯ä¸å¯ç”¨æ—¶ -> è§¦å‘æµè§ˆå™¨JSONæ–‡ä»¶ä¸‹è½½                      |  |
|  |  è¾“å‡º: {sport}_{movement}_{timestamp}.json                        |  |
|  |  è€—æ—¶: 50-200ms                                                   |  |
|  +-------------------------------------------------------------------+  |
|                                                                         |
+=========================================================================+
```

### 2.2 ç®¡çº¿è€—æ—¶åˆ†å¸ƒ

```
+=====================================================================+
||                      4é˜¶æ®µç®¡çº¿è€—æ—¶åˆ†å¸ƒ                            ||
+=====================================================================+
|                                                                     |
|  Stage 1: å¸§æå–         [====]                     300-500ms      |
|  Stage 2: AIåˆ†æ         [========================] 3-8ç§’ â˜…ç“¶é¢ˆ   |
|  Stage 3: æŠ¥å‘Šç”Ÿæˆ       [=]                        10-50ms        |
|  Stage 4: ä¿å­˜å®Œæˆ       [=]                        50-200ms       |
|                                                                     |
|  +---------------------------------------------------------------+  |
|  |  æ€»è®¡: 4-9ç§’ (ä¸»è¦è€—æ—¶åœ¨Gemini APIè°ƒç”¨)                       |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
|  ç“¶é¢ˆè¯´æ˜:                                                         |
|  +---------------------------------------------------------------+  |
|  | * Stage 2 (Gemini): 3å¼ å›¾åƒä¸Šä¼  + æ¨¡å‹æ¨ç†å»¶è¿Ÿ                |  |
|  | * ä¼˜åŒ–æ–¹å‘: å›¾åƒå‹ç¼©ã€å¹¶è¡Œè¯·æ±‚ã€ç¼“å­˜ç­–ç•¥                      |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
+=====================================================================+
```

### 2.3 æ•°æ®æµå›¾

```
                        ç”¨æˆ·ä¸Šä¼ è§†é¢‘
                             |
                             v
+----------------+    +----------------+    +----------------+
|   Stage 1      |    |   Stage 2      |    |   Stage 3      |
|   å¸§æå–       | -> |   AIåˆ†æ       | -> |   æŠ¥å‘Šç”Ÿæˆ     |
|                |    |                |    |                |
| * video.mp4    |    | * frames[]     |    | * report JSON  |
| * duration     |    | * sport        |    | * localStorage |
|                |    | * movement     |    |                |
+----------------+    +----------------+    +----------------+
      |                      |                      |
      v                      v                      v
  Canvas API           Gemini Vision          ReportCard UI
  Base64ç¼–ç            responseSchema         ChatPanelå±•ç¤º
                                                    |
                                                    v
                                          +----------------+
                                          |   Stage 4      |
                                          |   ä¿å­˜å®Œæˆ     |
                                          |                |
                                          | * POST /api    |
                                          | * ./reports/   |
                                          | * æˆ–æµè§ˆå™¨ä¸‹è½½ |
                                          +----------------+
                                                    |
                                               +----+----+
                                               |         |
                                      åç«¯å¯ç”¨  v         v  åç«¯ä¸å¯ç”¨
                                          ./reports/     æµè§ˆå™¨ä¸‹è½½
                                          æœåŠ¡å™¨ä¿å­˜     æœ¬åœ°ä¿å­˜
                                                    |
                                                    v
                                          tennis_forehand_
                                          2025-11-30T14-25.json
```

---

## 3. æ ¸å¿ƒè®¾è®¡åŸåˆ™

### 3.1 åŸåˆ™ #1: å›ºå®šJSONæ ¼å¼

**æ ¸å¿ƒç†å¿µ**: ä½¿ç”¨Geminiçš„`responseSchema`å¼ºåˆ¶è¾“å‡ºå›ºå®šJSONç»“æ„ï¼Œ
ç¡®ä¿æ¯æ¬¡åˆ†æç»“æœæ ¼å¼ä¸€è‡´ï¼Œä¾¿äºå‰ç«¯æ¸²æŸ“å’Œåç«¯å­˜å‚¨ã€‚

```
+-----------------------------------------------------------------------+
|  MOVEMENT_ANALYSIS_SCHEMA (aiCoachService.ts)                         |
+-----------------------------------------------------------------------+
|                                                                       |
|  config: {                                                            |
|    responseMimeType: "application/json",                              |
|    responseSchema: MOVEMENT_ANALYSIS_SCHEMA,  // <-- å›ºå®šæ ¼å¼         |
|    temperature: 0.3,  // ä½æ¸©åº¦ç¡®ä¿ä¸€è‡´æ€§                             |
|  }                                                                    |
|                                                                       |
|  è¾“å‡ºç»“æ„:                                                            |
|  +-------------------------------------------------------------------+|
|  | {                                                                 ||
|  |   "version": "1.0.0",                                             ||
|  |   "analysisId": "uuid",                                           ||
|  |   "overallScore": 75,                                             ||
|  |   "overallGrade": "B",                                            ||
|  |   "coreIssues": [...],                                            ||
|  |   "strengths": [...],                                             ||
|  |   "dimensionScores": [...],                                       ||
|  |   "recommendedDrills": [...]                                      ||
|  | }                                                                 ||
|  +-------------------------------------------------------------------+|
|                                                                       |
+-----------------------------------------------------------------------+
```

### 3.2 åŸåˆ™ #2: ç§‘å­¦æ”¯æ’‘ï¼Œæœ‰æ®å¯ä¾

**æ ¸å¿ƒç†å¿µ**: æ¯ä¸€æ¡åŠ¨ä½œæ”¹è¿›å»ºè®®éƒ½å¿…é¡»æœ‰ç§‘å­¦æ–‡çŒ®æ”¯æ’‘ã€‚
å¼•ç”¨é‡‡ç”¨ä¸Šæ ‡æ ‡æ³¨ [1][2][3]ï¼Œåœ¨æ¶ˆæ¯ä¸‹æ–¹è‡ªåŠ¨å±•å¼€æ˜¾ç¤ºå®Œæ•´å¼•ç”¨ä¿¡æ¯ã€‚

```
+-----------------------------------------------------------------------+
|                        å¼•æ–‡æ£€ç´¢æµç¨‹                                    |
+-----------------------------------------------------------------------+
|                                                                       |
|  ç”¨æˆ·æé—®                                                             |
|      |                                                                |
|      v                                                                |
|  "æœ€ä½³æ‰‹è…•è§’åº¦æ˜¯å¤šå°‘?"                                                |
|      |                                                                |
|      v                                                                |
|  +------------------------+                                           |
|  |  RAG Query Engine      |                                           |
|  |  POST /api/query       |                                           |
|  +------------------------+                                           |
|      |                                                                |
|      v                                                                |
|  +------------------------+                                           |
|  |  ChromaDB å‘é‡æ£€ç´¢     |                                           |
|  |  30+ ç½‘çƒç ”ç©¶è®ºæ–‡      |                                           |
|  +------------------------+                                           |
|      |                                                                |
|      v                                                                |
|  +------------------------+                                           |
|  |  OpenAI ç»¼åˆç”Ÿæˆ       |                                           |
|  +------------------------+                                           |
|      |                                                                |
|      v                                                                |
|  +------------------------------------------------------------------+|
|  | AI Coach å›ç­”:                                                   ||
|  | "ç ”ç©¶è¡¨æ˜æœ€ä½³æ‰‹è…•ä¸‹å‹è§’åº¦ä¸º25-35Â°..." [1][2]                     ||
|  |                                                                  ||
|  | References:                                                      ||
|  | â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”||
|  | â”‚ [1] Biomechanics and Tennis                                  â”‚||
|  | â”‚     Authors: Smith J, et al.                                 â”‚||
|  | â”‚     Page 42 | Relevance: 95%                                 â”‚||
|  | â”‚     "The optimal wrist angle for topspin forehand..."        â”‚||
|  | â”‚     ğŸ”— View Full Text                                        â”‚||
|  | â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤||
|  | â”‚ [2] Tennis Stroke Mechanics                                  â”‚||
|  | â”‚     Authors: Johnson M, et al.                               â”‚||
|  | â”‚     Page 128 | Relevance: 92%                                â”‚||
|  | â”‚     "Biomechanical analysis shows that..."                   â”‚||
|  | â”‚     ğŸ”— View Full Text                                        â”‚||
|  | â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜||
|  +------------------------------------------------------------------+|
|                                                                       |
+-----------------------------------------------------------------------+

å¼•ç”¨å±•ç¤ºç‰¹æ€§:
  - ä¸Šæ ‡æ ‡æ³¨: ä½¿ç”¨ [1] [2] [3] åœ¨æ–‡æœ¬ä¸­æ ‡æ³¨
  - å†…è”å±•å¼€: å¼•ç”¨ä¿¡æ¯ç›´æ¥æ˜¾ç¤ºåœ¨æ¶ˆæ¯ä¸‹æ–¹ï¼Œé»˜è®¤å±•å¼€
  - å®Œæ•´ä¿¡æ¯: æ ‡é¢˜ã€ä½œè€…ã€é¡µç ã€ç›¸å…³åº¦ã€æ‘˜è¦ã€é“¾æ¥
  - å¯ç‚¹å‡»: ç‚¹å‡»å¼•ç”¨æ ‡ç­¾æ»šåŠ¨åˆ°å¯¹åº”çš„å¼•ç”¨å¡ç‰‡
  - æ— éœ€æŠ½å±‰: ç§»é™¤åº•éƒ¨æŠ½å±‰è®¾è®¡ï¼Œé‡‡ç”¨æ›´ç›´è§‚çš„å†…è”å±•ç¤º
```

### 3.3 åŸåˆ™ #3: æœ¬åœ°å­˜å‚¨

**æ ¸å¿ƒç†å¿µ**: åˆ†ææŠ¥å‘Šè‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°`./reports/`æ–‡ä»¶å¤¹ï¼Œ
æ–‡ä»¶ååŒ…å«timestampä¾¿äºè¿½æº¯ã€‚

```
+-----------------------------------------------------------------------+
|                        æŠ¥å‘Šå­˜å‚¨æµç¨‹                                    |
+-----------------------------------------------------------------------+
|                                                                       |
|  åˆ†æå®Œæˆ                                                             |
|      |                                                                |
|      +---> localStorage (å‰ç«¯æŒä¹…åŒ–)                                  |
|      |                                                                |
|      +---> POST /api/reports/save                                     |
|                  |                                                    |
|                  v                                                    |
|           +------------------+                                        |
|           |  FastAPI Backend |                                        |
|           +------------------+                                        |
|                  |                                                    |
|                  v                                                    |
|           ./reports/                                                  |
|              +-- tennis_forehand_2025-11-30T14-25-30.json             |
|              +-- tennis_backhand_2025-11-30T15-00-00.json             |
|              +-- badminton_smash_2025-11-30T16-30-00.json             |
|                                                                       |
+-----------------------------------------------------------------------+
```

### 3.4 åŸåˆ™ #4: ç®€åŒ–ä¼˜å…ˆ

**æ ¸å¿ƒç†å¿µ**: v2.0ç§»é™¤äº†MediaPipeå§¿æ€æ£€æµ‹ï¼Œç›´æ¥ä½¿ç”¨Geminiè§†è§‰åˆ†æï¼Œ
å‡å°‘å¤æ‚åº¦å’Œä¾èµ–ï¼Œæé«˜å¯ç»´æŠ¤æ€§ã€‚

```
+-----------------------------------------------------------------------+
|                        v1.x vs v2.0 å¯¹æ¯”                              |
+-----------------------------------------------------------------------+
|                                                                       |
|  v1.x (6é˜¶æ®µ):                                                        |
|  +--------+   +--------+   +--------+   +--------+   +--------+       |
|  |MediaPipe -> Gemini -> ç»“æ„åŒ– -> åé¦ˆ -> RAG -> æŠ¥å‘Š|              |
|  +--------+   +--------+   +--------+   +--------+   +--------+       |
|      ^                                                                |
|      |                                                                |
|   å¤æ‚åº¦é«˜ï¼Œä¾èµ–å¤š                                                    |
|                                                                       |
|  v2.0 (4é˜¶æ®µ):                                                        |
|  +--------+   +--------+   +--------+   +--------+                    |
|  | å¸§æå– | -> | AIåˆ†æ | -> | æŠ¥å‘Š  | -> | ä¿å­˜  |                  |
|  +--------+   +--------+   +--------+   +--------+                    |
|      ^                                                                |
|      |                                                                |
|   ç®€æ´é«˜æ•ˆï¼Œæ˜“ç»´æŠ¤                                                    |
|                                                                       |
+-----------------------------------------------------------------------+
```

---

## 4. æ•°æ®ç»“æ„è§„èŒƒ

### 4.1 MovementAnalysisReport (æ ¸å¿ƒè¾“å‡º)

```typescript
// æ–‡ä»¶: frontend/src/types/movementAnalysis.ts

interface MovementAnalysisReport {
  version: string;           // "1.0.0"
  analysisId: string;        // UUID
  createdAt: string;         // ISO timestamp
  sport: string;             // "tennis"
  movementType: string;      // "forehand"
  movementTypeLabel: string; // "æ­£æ‰‹å‡»çƒ"

  // è¯„åˆ†
  overallScore: number;      // 0-100
  overallGrade: string;      // A/B/C/D/F

  // æ ¸å¿ƒé—®é¢˜
  coreIssues: {
    id: string;
    title: string;
    subtitle: string;
    severity: 'minor' | 'moderate' | 'major';
    icon: string;
    howShort: string;
    howDetail: string;
    whyShort: string;
    whyDetail: string;
    whatIfShort: string;
    whatIfDetail: string;
    training: {
      id: string;
      name: string;
      duration: string;
      thumbnail: string;
    };
  }[];

  // ä¼˜åŠ¿
  strengths: {
    id: string;
    title: string;
    description: string;
    icon: string;
  }[];

  // ç»´åº¦è¯„åˆ†
  dimensionScores: {
    id: string;
    name: string;      // "Preparation", "Contact Point", etc.
    score: number;     // 0-100
  }[];

  // æ¨èè®­ç»ƒ
  recommendedDrills: {
    id: string;
    name: string;
    duration: number;
    difficulty: 'beginner' | 'intermediate' | 'advanced';
    thumbnail: string;
    description: string;
    targetIssues: string[];
    benefit: string;
    steps: { number: number; instruction: string }[];
    isAdded: boolean;
  }[];
}
```

### 4.2 æŠ¥å‘Šæ¨¡æ¿ (report_template.json)

```
+-----------------------------------------------------------------------+
|  report_template.json (é¡¹ç›®æ ¹ç›®å½•)                                     |
+-----------------------------------------------------------------------+
|                                                                       |
|  è¿™æ˜¯Geminiè¾“å‡ºçš„JSONæ¨¡æ¿ï¼Œç”¨äºç¡®ä¿æ ¼å¼ä¸€è‡´æ€§ã€‚                       |
|                                                                       |
|  ä½ç½®: ./report_template.json                                         |
|  ç”¨é€”: å‚è€ƒæ¨¡æ¿ï¼ŒGeminié€šè¿‡responseSchemaå¼ºåˆ¶éµå¾ªæ­¤æ ¼å¼              |
|                                                                       |
|  ç»“æ„é¢„è§ˆ:                                                            |
|  +-------------------------------------------------------------------+|
|  | {                                                                 ||
|  |   "version": "1.0.0",                                             ||
|  |   "analysisId": "",                                               ||
|  |   "createdAt": "",                                                ||
|  |   "sport": "",                                                    ||
|  |   "movementType": "",                                             ||
|  |   "overallScore": 0,                                              ||
|  |   "overallGrade": "",                                             ||
|  |   "coreIssues": [...],                                            ||
|  |   "strengths": [...],                                             ||
|  |   "dimensionScores": [...],                                       ||
|  |   "recommendedDrills": [...]                                      ||
|  | }                                                                 ||
|  +-------------------------------------------------------------------+|
|                                                                       |
+-----------------------------------------------------------------------+
```

---

## 5. ç³»ç»Ÿå¸ƒå±€

### 5.1 æŠ€æœ¯æ¶æ„

```
+=========================================================================+
||                            æŠ€æœ¯æ¶æ„                                   ||
+=========================================================================+
|                                                                         |
|  FRONTEND (React + Vite + TypeScript)                    Port: 3000    |
|  +-------------------------------------------------------------------+  |
|  |                                                                   |  |
|  |  VideoAnalyzer.tsx (ä¸»ç»„ä»¶ v2.1.0)                                |  |
|  |  +---------------------------------------------------------------+|  |
|  |  |                                                               ||  |
|  |  |  4é˜¶æ®µPipelineåŠ¨ç”»                                            ||  |
|  |  |  +---------------+  +---------------+                         ||  |
|  |  |  | Frame Capture |  | AI Analysis   |                         ||  |
|  |  |  | å¸§æå–        |  | AI åˆ†æ       |                         ||  |
|  |  |  +---------------+  +---------------+                         ||  |
|  |  |  +---------------+  +---------------+                         ||  |
|  |  |  | Report Gen    |  | Save Complete |                         ||  |
|  |  |  | æŠ¥å‘Šç”Ÿæˆ      |  | ä¿å­˜å®Œæˆ      |                         ||  |
|  |  |  +---------------+  +---------------+                         ||  |
|  |  |                                                               ||  |
|  |  +---------------------------------------------------------------+|  |
|  |                                                                   |  |
|  |  Services:                                                        |  |
|  |  +---------------------+    +---------------------+               |  |
|  |  | aiCoachService.ts   |    | (å…¶ä»–æœåŠ¡å·²ç®€åŒ–)   |               |  |
|  |  | - Gemini Vision API |    |                    |               |  |
|  |  | - TTSè¯­éŸ³åˆæˆ       |    |                    |               |  |
|  |  | - responseSchema    |    |                    |               |  |
|  |  +---------------------+    +---------------------+               |  |
|  |                                                                   |  |
|  +-------------------------------------------------------------------+  |
|                                     |                                   |
|                               HTTP (CORS)                               |
|                                     v                                   |
|  BACKEND (FastAPI + Python)                              Port: 8001    |
|  +-------------------------------------------------------------------+  |
|  |                                                                   |  |
|  |  API Routes:                                                      |  |
|  |  +-------------------------------------------------------------+ |  |
|  |  | POST /api/reports/save  -> ä¿å­˜æŠ¥å‘Šåˆ° ./reports/            | |  |
|  |  | GET  /api/reports/list  -> åˆ—å‡ºæ‰€æœ‰æŠ¥å‘Š                     | |  |
|  |  | GET  /api/reports/{id}  -> è·å–å•ä¸ªæŠ¥å‘Š                     | |  |
|  |  | POST /api/query         -> RAGé—®ç­” (Research Q&A)           | |  |
|  |  | GET  /api/health        -> å¥åº·æ£€æŸ¥                         | |  |
|  |  +-------------------------------------------------------------+ |  |
|  |                                                                   |  |
|  |  RAG Engine:                                                      |  |
|  |  +-------------------------------------------------------------+ |  |
|  |  | ChromaDB + 30+ ç½‘çƒç ”ç©¶è®ºæ–‡ (å‘é‡åŒ–å­˜å‚¨)                    | |  |
|  |  +-------------------------------------------------------------+ |  |
|  |                                                                   |  |
|  +-------------------------------------------------------------------+  |
|                                                                         |
+=========================================================================+
```

### 5.2 é¡¹ç›®ç›®å½•ç»“æ„

```
Yoach-RLab-V1/
|
+-- frontend/                          # React å‰ç«¯
|   +-- src/
|   |   +-- types/
|   |   |   +-- index.ts              # åŸºç¡€ç±»å‹
|   |   |   +-- movementAnalysis.ts   # æŠ¥å‘Šç±»å‹å®šä¹‰ â˜…
|   |   |
|   |   +-- services/
|   |   |   +-- aiCoachService.ts     # Gemini API + TTS â˜…
|   |   |
|   |   +-- components/
|   |   |   +-- VideoAnalyzer.tsx     # ä¸»é¡µé¢ (4é˜¶æ®µPipeline) â˜…
|   |   |   +-- ChatPanel.tsx         # å¯¹è¯é¢æ¿
|   |   |   +-- ReportCard.tsx        # æŠ¥å‘Šå¡ç‰‡ (rechartså›¾è¡¨)
|   |   |   +-- VideoDropzone.tsx     # è§†é¢‘ä¸Šä¼ 
|   |   |
|   |   +-- App.tsx
|   |   +-- main.tsx
|   |
|   +-- package.json
|
+-- backend/                           # Python åç«¯
|   +-- api/
|   |   +-- report_routes.py          # æŠ¥å‘Šä¿å­˜API â˜…
|   |   +-- query_routes.py           # RAGæŸ¥è¯¢API
|   |   +-- citation_routes.py        # å¼•æ–‡API
|   |   +-- document_routes.py        # æ–‡æ¡£API
|   |
|   +-- rag/
|   |   +-- query.py                  # RAGæŸ¥è¯¢å¼•æ“
|   |   +-- ingest.py                 # PDFæ‘„å–
|   |
|   +-- main.py                       # FastAPIå…¥å£
|
+-- reports/                          # åˆ†ææŠ¥å‘Šå­˜å‚¨ â˜…
|   +-- tennis_forehand_2025-11-30T14-25-30.json
|   +-- ...
|
+-- report_template.json              # æŠ¥å‘ŠJSONæ¨¡æ¿ â˜…
+-- docs/
    +-- ORG_YOACH_RLAB.md            # æœ¬æ–‡æ¡£
```

---

## 6. ç”¨æˆ·ç•Œé¢è®¾è®¡

### 6.1 è®¾è®¡é£æ ¼

**ä¸»é¢˜**: æµ…è‰²ä¸»é¢˜ (å‚è€ƒ OpenEvidence)

```
+=====================================================================+
||                          é¢œè‰²æ–¹æ¡ˆ                                 ||
+=====================================================================+
|                                                                     |
|  èƒŒæ™¯è‰²:                                                            |
|  +---------------------------------------------------------------+  |
|  | é¡µé¢èƒŒæ™¯: #F8FAFC (slate-50)                                  |  |
|  | å¡ç‰‡èƒŒæ™¯: #FFFFFF (white)                                     |  |
|  | è§†é¢‘åŒºåŸŸ: #1E293B (slate-800) - ä¿æŒæ·±è‰²                      |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
|  æ–‡å­—è‰²:                                                            |
|  +---------------------------------------------------------------+  |
|  | ä¸»æ–‡å­—:   #1E293B (slate-800)                                 |  |
|  | æ¬¡è¦æ–‡å­—: #64748B (slate-500)                                 |  |
|  | é“¾æ¥:     #2563EB (blue-600)                                  |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
|  çŠ¶æ€è‰²:                                                            |
|  +---------------------------------------------------------------+  |
|  | æˆåŠŸ: #10B981 (emerald-500)  [====]                           |  |
|  | è­¦å‘Š: #F59E0B (amber-500)    [====]                           |  |
|  | é”™è¯¯: #EF4444 (red-500)      [====]                           |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
+=====================================================================+
```

### 6.2 é¡µé¢å¸ƒå±€ (v3.2.0 - ä¼˜åŒ–ç‰ˆæœ¬)

**è®¾è®¡åŸåˆ™**: æ›´å¤§çš„å­—ä½“ã€æ›´å®½æ¾çš„é—´è·ï¼Œè§†é¢‘å•ç‹¬ä¸€è¡Œï¼ŒæŠ¥å‘Šå’Œå¯¹è¯å¹¶æ’å±•ç¤º

```
+=========================================================================+
|| Yoach RLab                                    * RLab Connected    [?] ||
+=========================================================================+
|                                                                         |
|  +-------------------------------------------------------------------+  |
|  |                                                                   |  |
|  |                      [è§†é¢‘æ’­æ”¾åŒºåŸŸ - 16:9]                        |  |
|  |                         bg: slate-900                             |  |
|  |                  [â–¶] [0:12] [1x] [Tennis â–¼] [Analyze]             |  |
|  |                                                                   |  |
|  +-------------------------------------------------------------------+  |
|                                                                         |
|  +----------------------------------+  +------------------------------+ |
|  |                                  |  |                              | |
|  |   Analysis Report                |  |   AI Coach                   | |
|  |   +----------------------------+ |  |   +-----------------------+  | |
|  |   | Score: 72/100        [å±•å¼€] | |  |   | ä½ å¥½ï¼ä¸Šä¼ è§†é¢‘å      |  | |
|  |   | Grade: B                   | |  |   | æˆ‘ä¼šå¸®ä½ åˆ†æåŠ¨ä½œæŠ€æœ¯  |  | |
|  |   |                            | |  |   +-----------------------+  | |
|  |   | æ ¸å¿ƒé—®é¢˜:                  | |  |                              | |
|  |   | [!] å‡»çƒæ—¶æœºåæ™š           | |  |   Suggested Questions:       | |
|  |   | [!] æ‰‹è…•è§’åº¦ä¸ä½³           | |  |   +-----------------------+  | |
|  |   |                            | |  |   | How to improve timing?|  | |
|  |   | ä¼˜åŠ¿:                      | |  |   | Best wrist angle?     |  | |
|  |   | [âœ“] è‰¯å¥½çš„æ¡æ‹å§¿åŠ¿         | |  |   | Recommended drills?   |  | |
|  |   | [âœ“] ç¨³å®šçš„ç«™ä½             | |  |   +-----------------------+  | |
|  |   |                            | |  |                              | |
|  |   | [æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š â†’]           | |  |   +------------------------+ | |
|  |   +----------------------------+ |  |   | Type a question...  [>]| | |
|  |                                  |  |   +------------------------+ | |
|  +----------------------------------+  +------------------------------+ |
|  |                                  |  |                              | |
|  |   [æŸ¥çœ‹å®Œæ•´æŠ¥å‘Š â†’]              |  |   AI å›ç­”:                   | |
|  |                                  |  |   "ç ”ç©¶è¡¨æ˜æ‰‹è…•è§’åº¦..." [1][2]| |
|  |                                  |  |                              | |
|  |                                  |  |   References:                | |
|  |                                  |  |   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” | |
|  |                                  |  |   â”‚[1] Biomechanics Tennis â”‚ | |
|  |                                  |  |   â”‚   Page 42 | 95%        â”‚ | |
|  |                                  |  |   â”‚   "Optimal wrist..."   â”‚ | |
|  |                                  |  |   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ | |
|  |                                  |  |   â”‚[2] Stroke Mechanics    â”‚ | |
|  |                                  |  |   â”‚   Page 128 | 92%       â”‚ | |
|  |                                  |  |   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ | |
|  +----------------------------------+  +------------------------------+ |
|                                                                         |
+=========================================================================+

å¸ƒå±€è¯´æ˜:
  ç¬¬ä¸€è¡Œ: è§†é¢‘æ’­æ”¾å™¨ (å…¨å®½ï¼Œå›ºå®šé«˜åº¦ 400px)
  ç¬¬äºŒè¡Œ: åˆ†ææŠ¥å‘Šå¡ç‰‡ (å·¦) + AI Coach å¯¹è¯é¢æ¿ (å³)
  å¼•ç”¨å±•ç¤º: å†…è”åœ¨ AI æ¶ˆæ¯ä¸‹æ–¹ï¼Œé»˜è®¤å±•å¼€ï¼Œæ— éœ€æŠ½å±‰

å¼•ç”¨è®¾è®¡:
  - ä¸Šæ ‡æ ‡æ³¨: [1] [2] [3] è“è‰²åœ†å½¢æ ‡ç­¾
  - å†…è”å¡ç‰‡: æ¯ä¸ªå¼•ç”¨ç‹¬ç«‹å¡ç‰‡ï¼ŒåŒ…å«æ ‡é¢˜ã€é¡µç ã€ç›¸å…³åº¦ã€æ‘˜è¦
  - é»˜è®¤å±•å¼€: ç”¨æˆ·æ”¶åˆ°æ¶ˆæ¯æ—¶è‡ªåŠ¨æ˜¾ç¤ºæ‰€æœ‰å¼•ç”¨
  - å¯æ»šåŠ¨: ç‚¹å‡»ä¸Šæ ‡æ ‡ç­¾å¹³æ»‘æ»šåŠ¨åˆ°å¯¹åº”å¼•ç”¨å¡ç‰‡

å­—ä½“å°ºå¯¸æå‡:
  - æ ‡é¢˜: text-xl â†’ text-2xl (20px)
  - æ­£æ–‡: text-sm â†’ text-base (16px)
  - æ¬¡è¦æ–‡å­—: text-xs â†’ text-sm (14px)
  - é—´è·: gap-2 â†’ gap-4, p-4 â†’ p-6
```

### 6.3 Pipelineè¿›åº¦åŠ¨ç”» (4é˜¶æ®µ)

```
+=========================================================================+
||                      Analyzing Technique                              ||
||                       4-Stage AI Pipeline                             ||
+=========================================================================+
|                                                                         |
|       [===================>                    ] 50%                    |
|                     Stage 2/4                                           |
|                                                                         |
|       +-----------------------+  +-----------------------+              |
|       |   Frame Capture   [v] |  |   AI Analysis     [*] |              |
|       |   å¸§æå–              |  |   AI åˆ†æ         ... |              |
|       +-----------------------+  +-----------------------+              |
|       +-----------------------+  +-----------------------+              |
|       |   Report Gen      [ ] |  |   Save Complete   [ ] |              |
|       |   æŠ¥å‘Šç”Ÿæˆ            |  |   ä¿å­˜å®Œæˆ            |              |
|       +-----------------------+  +-----------------------+              |
|                                                                         |
|                  [*] Processing AI Analysis...                          |
|                                                                         |
+=========================================================================+

å›¾ä¾‹:
  [v] = completed (ç»¿è‰²)
  [*] = running (è“è‰²è„‰å†²)
  [ ] = pending (ç°è‰²)
  ... = è·³åŠ¨çš„ç‚¹åŠ¨ç”»
```

### 6.4 æŠ¥å‘Šå¡ç‰‡

```
æŠ˜å çŠ¶æ€:
+---------------------------------------------------------------------+
| Analysis Report                              Score: 72/100  [å±•å¼€v] |
| [å‡»çƒæ—¶æœº !] [æ‰‹è…•è§’åº¦ !] [åŠ¨åŠ›é“¾ v]                                |
+---------------------------------------------------------------------+

å±•å¼€çŠ¶æ€:
+=====================================================================+
|| Analysis Report                                         [æ”¶èµ· ^] ||
+=====================================================================+
|                                                                     |
|  Overall Score: 72/100   Grade: B                                   |
|  +---------------------------------------------------------------+  |
|  |            Dimension Scores (é›·è¾¾å›¾)                          |  |
|  |                                                               |  |
|  |                 Preparation                                   |  |
|  |                     85                                        |  |
|  |            /                 \                                |  |
|  |     Weight                    Contact                         |  |
|  |     Transfer                  Point                           |  |
|  |        70      ----+----       65                             |  |
|  |            \                 /                                |  |
|  |         Body              Follow                              |  |
|  |         Rotation          Through                             |  |
|  |             75               80                               |  |
|  |                                                               |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
|  Core Issues:                                                       |
|  +---------------------------------------------------------------+  |
|  | [!] å‡»çƒæ—¶æœºåæ™š                                  severity: major|  |
|  |     HOW: å‡»çƒç‚¹åœ¨èº«ä½“åæ–¹çº¦15cm                               |  |
|  |     WHY: é‡å¿ƒè½¬ç§»å¯åŠ¨è¾ƒæ…¢ï¼Œå‡†å¤‡æ—¶é—´ä¸è¶³                       |  |
|  |     WHAT IF: å¯èƒ½å¯¼è‡´å‡»çƒåŠ›é‡ä¸è¶³ã€æ–¹å‘ä¸ç¨³å®š                 |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
|  Strengths:                                                         |
|  +---------------------------------------------------------------+  |
|  | [v] è‰¯å¥½çš„æ¡æ‹å§¿åŠ¿                                            |  |
|  | [v] ç¨³å®šçš„ç«™ä½                                                |  |
|  +---------------------------------------------------------------+  |
|                                                                     |
+=====================================================================+
```

---

## 7. ç”¨æˆ·ä½“éªŒæµç¨‹

### 7.1 å®Œæ•´ä½¿ç”¨æµç¨‹

```
æ­¥éª¤1: ä¸Šä¼ è§†é¢‘
+---------------------------------------------------------------------+
|                                                                     |
|     +-------------------------------------------------------+       |
|     |                                                       |       |
|     |        æ‹–æ”¾æˆ–ç‚¹å‡»ä¸Šä¼ ä½ çš„ç»ƒä¹ è§†é¢‘                     |       |
|     |        æ”¯æŒ MP4, MOV, WebM                            |       |
|     |                                                       |       |
|     +-------------------------------------------------------+       |
|                                                                     |
|     æç¤º: "ä¸Šä¼ ä½ çš„å‡»çƒè§†é¢‘ï¼ŒAIä¼šå¸®ä½ åˆ†æåŠ¨ä½œæŠ€æœ¯"                 |
|                                                                     |
+---------------------------------------------------------------------+
                              |
                              v
æ­¥éª¤2: é€‰æ‹©è¿åŠ¨ç±»å‹å¹¶åˆ†æ
+---------------------------------------------------------------------+
|                                                                     |
|     Sport: [Tennis v]    Movement: [Forehand v]                     |
|                                                                     |
|                  [=== Analyze Technique ===]                        |
|                                                                     |
+---------------------------------------------------------------------+
                              |
                              v
æ­¥éª¤3: 4é˜¶æ®µPipelineå¤„ç† (è§†é¢‘åŒºåŸŸè¦†ç›–å±‚)
+---------------------------------------------------------------------+
|                                                                     |
|     [===================>                    ] Stage 2/4            |
|                                                                     |
|     [v] Frame Capture     [*] AI Analysis                           |
|     [ ] Report Gen        [ ] Save Complete                         |
|                                                                     |
|     Processing AI Analysis...                                       |
|                                                                     |
+---------------------------------------------------------------------+
                              |
                              v
æ­¥éª¤4: æŸ¥çœ‹æŠ¥å‘Šå¡ç‰‡ (åœ¨ChatPanelä¸­å±•ç¤º)
+---------------------------------------------------------------------+
|                                                                     |
|     +-------------------------------------------------------+       |
|     | Analysis Report                   Score: 72/100 [v]   |       |
|     | [æ—¶æœº!] [è§’åº¦!] [é“¾v]                                 |       |
|     | ç‚¹å‡»å±•å¼€æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š ->                               |       |
|     +-------------------------------------------------------+       |
|                                                                     |
|     Suggested Questions:                                            |
|     * How to improve timing?                                        |
|     * Best wrist angle?                                             |
|     * Recommended drills?                                           |
|                                                                     |
+---------------------------------------------------------------------+
                              |
                              v
æ­¥éª¤5: ç»§ç»­å¯¹è¯æˆ–æé—®
+---------------------------------------------------------------------+
|                                                                     |
|     User: "How to improve my timing?"                               |
|                                                                     |
|     AI Coach: "Based on your analysis, your impact timing           |
|     is delayed by about 150ms. Research shows [1,2] that            |
|     this is usually caused by..."                                   |
|                                                                     |
|     [1] Biomechanics and Tennis, p.42                               |
|         "Early preparation allows for..."                           |
|                                                                     |
+---------------------------------------------------------------------+
```

### 7.2 å…¸å‹ä½¿ç”¨åœºæ™¯

```
+=====================================================================+
||                     åœºæ™¯1: ä¸šä½™é€‰æ‰‹è‡ªæˆ‘è®­ç»ƒ                        ||
+=====================================================================+
|                                                                     |
|  1. å½•åˆ¶è‡ªå·±çš„æ­£æ‰‹å‡»çƒè§†é¢‘                                          |
|  2. ä¸Šä¼ åˆ° Yoach RLab                                               |
|  3. ç³»ç»Ÿè‡ªåŠ¨åˆ†æå¹¶åœ¨ChatPanelä¸­æ˜¾ç¤ºæŠ¥å‘Šå¡ç‰‡                         |
|  4. å±•å¼€å¡ç‰‡æŸ¥çœ‹é›·è¾¾å›¾ã€æ ¸å¿ƒé—®é¢˜ã€æ¨èè®­ç»ƒ                          |
|  5. ç‚¹å‡»æ¨èé—®é¢˜æˆ–è‡ªè¡Œæé—®                                          |
|  6. æŒ‰ç…§ AI Coach çš„å»ºè®®å’Œæ¨èç»ƒä¹ æ”¹è¿›                              |
|                                                                     |
+=====================================================================+

+=====================================================================+
||                     åœºæ™¯2: æŸ¥é˜…ç ”ç©¶æ–‡çŒ®                            ||
+=====================================================================+
|                                                                     |
|  1. åœ¨å¯¹è¯æ¡†è¾“å…¥é—®é¢˜                                                |
|     ä¾‹: "ç½‘çƒæ­£æ‰‹å‡»çƒçš„æœ€ä½³æ‰‹è…•è§’åº¦æ˜¯å¤šå°‘ï¼Ÿ"                        |
|                                                                     |
|  2. ç³»ç»Ÿé€šè¿‡ RAG æ£€ç´¢ç›¸å…³è®ºæ–‡                                       |
|     ChromaDB -> 30+ ç½‘çƒç ”ç©¶è®ºæ–‡                                    |
|                                                                     |
|  3. è¿”å›å¸¦å¼•ç”¨çš„ç­”æ¡ˆ                                                |
|     "ç ”ç©¶è¡¨æ˜æœ€ä½³æ‰‹è…•ä¸‹å‹è§’åº¦ä¸º25-35Â°..." [1,2]                     |
|                                                                     |
|  4. å¯ç‚¹å‡»å±•å¼€æŸ¥çœ‹åŸæ–‡ç‰‡æ®µ                                          |
|                                                                     |
+=====================================================================+
```

---

## 8. æŠ€æœ¯ç»„ä»¶

### 8.1 å…³é”®æœåŠ¡è¯´æ˜

```
+------------------+--------+---------------------------+--------+
|       æœåŠ¡       |  ä½ç½®  |           åŠŸèƒ½            |  é˜¶æ®µ  |
+------------------+--------+---------------------------+--------+
| aiCoachService   | å‰ç«¯   | Gemini Vision + TTS       | 1-2    |
| VideoAnalyzer    | å‰ç«¯   | 4é˜¶æ®µPipelineåè°ƒ         | 1-4    |
| report_routes    | åç«¯   | æŠ¥å‘Šä¿å­˜API               | 4      |
| query.py         | åç«¯   | RAGé—®ç­”                   | å¯¹è¯   |
+------------------+--------+---------------------------+--------+
```

### 8.2 APIç«¯ç‚¹

```
+---------------------------+--------+--------------------------------+
|           ç«¯ç‚¹            |  æ–¹æ³•  |              åŠŸèƒ½              |
+---------------------------+--------+--------------------------------+
| /api/reports/save         | POST   | ä¿å­˜æŠ¥å‘Šåˆ° ./reports/          |
| /api/reports/list         | GET    | åˆ—å‡ºæ‰€æœ‰æŠ¥å‘Š                   |
| /api/reports/{filename}   | GET    | è·å–å•ä¸ªæŠ¥å‘Š                   |
| /api/query                | POST   | RAGé—®ç­” (Research Q&A)         |
| /api/health               | GET    | åç«¯å¥åº·æ£€æŸ¥                   |
+---------------------------+--------+--------------------------------+
```

### 8.3 ç¯å¢ƒé…ç½®

```
å‰ç«¯ .env:
+---------------------------------------------------------------------+
| GEMINI_API_KEY=your-gemini-api-key                                  |
| RLAB_API_BASE=http://localhost:8001                                 |
+---------------------------------------------------------------------+

åç«¯ .env:
+---------------------------------------------------------------------+
| OPENAI_API_KEY=your-openai-api-key                                  |
| CHROMA_PERSIST_DIR=./data/chroma                                    |
| ASSETS_DIR=./data/assets                                            |
+---------------------------------------------------------------------+
```

---

## é™„å½•: ç‰ˆæœ¬å†å²

```
+---------+------------+------------------------------------------------+
|  ç‰ˆæœ¬   |    æ—¥æœŸ    |                     å˜æ›´                       |
+---------+------------+------------------------------------------------+
| v1.0.0  | 2025-11-30 | å®Œæ•´6é˜¶æ®µç®¡çº¿æ¶æ„ (å«MediaPipe)                |
| v1.1.0  | 2025-11-30 | UIé‡æ„: æµ…è‰²ä¸»é¢˜ã€æŠ¥å‘Šå¡ç‰‡ã€OpenEvidenceé£æ ¼   |
| v2.0.0  | 2025-11-30 | ç®€åŒ–ä¸º4é˜¶æ®µç®¡çº¿ï¼Œç§»é™¤MediaPipeä¾èµ–             |
|         |            | - Stage 1: Frame Capture (å¸§æå–)              |
|         |            | - Stage 2: AI Analysis (Geminiåˆ†æ)            |
|         |            | - Stage 3: Report Generation (æŠ¥å‘Šç”Ÿæˆ)        |
|         |            | - Stage 4: Save & Complete (ä¿å­˜å®Œæˆ)          |
|         |            | æ–°å¢: ./reports/ æœ¬åœ°å­˜å‚¨ã€report_template.json|
| v3.0.0  | 2025-11-30 | æ·»åŠ ReferencesDraweråº•éƒ¨æŠ½å±‰å¼å¼•ç”¨å±•ç¤º         |
| v3.1.0  | 2025-11-30 | å¸ƒå±€ä¼˜åŒ–: è§†é¢‘+æŠ¥å‘Šä¸Šè¡Œï¼ŒèŠå¤©ä¸‹è¡Œ              |
| v3.2.0  | 2025-11-30 | å¸ƒå±€é‡æ„: è§†é¢‘å…¨å®½ä¸Šè¡Œï¼ŒæŠ¥å‘Š+èŠå¤©å¹¶æ’ä¸‹è¡Œ      |
|         |            | UIä¼˜åŒ–: å¢å¤§å­—ä½“å’Œé—´è·ï¼Œæå‡è§†è§‰èˆ’é€‚åº¦         |
|         |            | - æ ‡é¢˜ text-xlâ†’text-2xl, æ­£æ–‡ text-smâ†’text-base|
|         |            | - è§†é¢‘é«˜åº¦ 280pxâ†’400pxï¼Œé—´è· gap-2â†’gap-4       |
| v3.3.0  | 2025-11-30 | å¼•ç”¨å±•ç¤ºä¼˜åŒ–: ç§»é™¤æŠ½å±‰å¼ï¼Œé‡‡ç”¨å†…è”å±•å¼€è®¾è®¡     |
|         |            | - ä¸Šæ ‡æ ‡æ³¨: [1][2][3] è“è‰²åœ†å½¢æ ‡ç­¾             |
|         |            | - å†…è”å¡ç‰‡: å¼•ç”¨ä¿¡æ¯ç›´æ¥æ˜¾ç¤ºåœ¨æ¶ˆæ¯ä¸‹æ–¹         |
|         |            | - é»˜è®¤å±•å¼€: ç”¨æˆ·æ”¶åˆ°å›ç­”æ—¶è‡ªåŠ¨æ˜¾ç¤ºå¼•ç”¨         |
+---------+------------+------------------------------------------------+
```

---

**æ–‡æ¡£ç»´æŠ¤**: Yoach äº§å“å›¢é˜Ÿ
**æœ€åæ›´æ–°**: 2025-11-30
