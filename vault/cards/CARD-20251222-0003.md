---
id: CARD-20251222-0003
type: debug_playbook
status: validated
created_at: 2025-12-22
last_verified_at: 2025-12-22
confidence: high
scope: "Git Bash 脚本调用 Windows 原生程序时的路径翻译"
tags:
  - debug
  - git-bash
  - windows
  - path
  - msys2
sensitivity: public
evidence_refs:
  - EVI-20251222-0002#loc:fix
sources: []
---

## Claim

当 Git Bash 脚本需要将路径传递给 Windows 原生程序（如 python.exe、cmd.exe）时，必须使用 `cygpath -m` 将 MSYS2 虚拟路径转换为 Windows 路径（使用正斜杠）。

## Evidence

根据 EVI-20251222-0002#loc:fix：MSYS2 虚拟路径（如 `/tmp/`、`/d/`）仅被 MSYS2 运行时程序识别。Windows 原生程序收到的是字面量字符串，无法解析。

关键对比：
- `cygpath -w` → `C:\Users\...` → 反斜杠在 Python 中导致转义问题
- `cygpath -m` → `C:/Users/...` → 正斜杠，安全兼容

## Transferable Rule

**跨层路径必翻译。** 在 Git Bash 脚本中调用 Windows 程序前，始终用 `cygpath -m` 转换路径。诊断步骤：若遇到 FileNotFoundError 且路径以 `/` 开头，检查是否遗漏路径转换。
