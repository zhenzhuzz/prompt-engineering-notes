创建 Pull Request：

## 步骤

1. `git status` 确认当前分支状态
2. `git log main..HEAD --oneline` 查看所有待合并的 commits
3. `git diff main..HEAD --stat` 查看改动文件概览
4. 检查远程分支是否已推送，未推送则先 push
5. 使用 `gh pr create` 创建 PR

## PR 规范

- 标题和描述用**简体中文**
- 详细描述所有更改
- 用 **ASCII diagram** 描述架构变化、文件结构、数据流
- 用 **emoji** 增加可读性和趣味性

## 详细程度要求

### 1. 业务价值说明（给非技术老板看）

- **实现了什么功能**: 用一句话说清楚对用户/产品的价值
- **解决了什么问题**: 之前的痛点是什么，现在如何改善
- **核心亮点**: 最值得关注的 1-3 个点

### 2. 按 Commit 分组总结

- 将相关 commits 按功能模块归类
- 每个模块写 3-5 句描述，包括：
  - 做了什么
  - 为什么这样做
  - 有什么影响

### 3. 关键决策说明

- 架构选型的权衡
- 重要的技术决策及原因
- 删除/重构的理由

### 4. 文件清单完整

- 主要文件逐一列出（至少 10-15 行）
- 不只是列目录，要说明每个文件的用途

### 5. 详细 ASCII 流程图（必须）

每个 PR 必须包含至少一个详细的 ASCII 流程图，展示：
- **系统交互流程**: Client ↔ Server 的 API 调用
- **数据文件关系**: 配置文件之间的依赖和生成关系
- **用户操作流程**: 从用户角度描述功能流程

#### 示例 A: 系统交互流程图

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  [功能名称] 交互流程                                                             │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌──────────────────┐                      ┌──────────────────────────────┐    │
│  │    iOS Client    │                      │         Server               │    │
│  └────────┬─────────┘                      └──────────────┬───────────────┘    │
│           │                                               │                    │
│           │  ① POST /api/xxx                              │                    │
│           │     Body: { field: "value" }                  │                    │
│           │ ─────────────────────────────────────────────>│                    │
│           │                                               │                    │
│           │                                ┌──────────────▼──────────────┐     │
│           │                                │ 处理逻辑说明                 │     │
│           │                                │ • 步骤 1                    │     │
│           │                                │ • 步骤 2                    │     │
│           │                                └──────────────┬──────────────┘     │
│           │                                               │                    │
│           │  ② Response: result.json                      │                    │
│           │     (返回内容说明)                              │                    │
│           │ <─────────────────────────────────────────────│                    │
│           │                                               │                    │
│  ┌────────▼─────────┐                                     │                    │
│  │  用户操作         │                                     │                    │
│  │  • 看到什么       │                                     │                    │
│  │  • 做什么操作     │                                     │                    │
│  └────────┬─────────┘                                     │                    │
│           │                                               │                    │
│           │  ③ POST /api/yyy                              │                    │
│           │ ─────────────────────────────────────────────>│                    │
│           │                                               │                    │
│           │  ④ Response: final.json                       │                    │
│           │ <─────────────────────────────────────────────│                    │
│           │                                               │                    │
│  ┌────────▼─────────┐                                     │                    │
│  │  最终展示         │                                     │                    │
│  └──────────────────┘                                     │                    │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

#### 示例 B: 数据文件关系图

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│  数据文件层级关系                                                                │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  数据定义层 (Schema Layer)                                                       │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐                 │
│  │   file_a.json   │  │   file_b.json   │  │   file_c.json   │                 │
│  │   (说明)        │  │   (说明)        │  │   (说明)        │                 │
│  └────────┬────────┘  └────────┬────────┘  └────────┬────────┘                 │
│           │                    │                    │                          │
│           └────────────────────┼────────────────────┘                          │
│                                │                                               │
│                                ▼                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐       │
│  │                        aggregated.json                              │       │
│  │                        (聚合数据说明)                                │       │
│  └─────────────────────────────────────────────────────────────────────┘       │
│                                                                                 │
│  ─────────────────────────────────────────────────────────────────────────────  │
│                                                                                 │
│  运行时数据层 (Runtime Layer)                                                    │
│                                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────┐       │
│  │                        request.json                                 │       │
│  │                        (请求数据)                                    │       │
│  └────────────────────────────────┬────────────────────────────────────┘       │
│                                   │                                            │
│                                   ▼  处理                                      │
│  ┌─────────────────────────────────────────────────────────────────────┐       │
│  │                        response.json                                │       │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────┐  │       │
│  │  │   部分 A    │  │   部分 B    │  │   部分 C                    │  │       │
│  │  │  • 字段1    │  │  • 字段1    │  │  • 字段1                    │  │       │
│  │  │  • 字段2    │  │  • 字段2    │  │  • 字段2                    │  │       │
│  │  └─────────────┘  └─────────────┘  └─────────────────────────────┘  │       │
│  └─────────────────────────────────────────────────────────────────────┘       │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

#### 格式要求

- 完整边框: `┌───┐ │ └───┘ ├───┤`
- 箭头方向: `─>` `<─` `▼` `▲` `────────────────>`
- 序号标注: ①②③④⑤
- 中文标注处理逻辑和说明
- 嵌套结构展示内部组成

## PR Body 格式模板

```markdown
## 🎯 业务价值

> **一句话总结**: [用非技术语言说明这个 PR 的核心价值]

### 实现的功能
- [功能1]: [对用户的价值]
- [功能2]: [对用户的价值]

### 解决的问题
- [之前的痛点] → [现在的改善]

---

## 📋 变更摘要

### 模块 1: [模块名称]
- commit1 描述
- commit2 描述
- 为什么这样做...

### 模块 2: [模块名称]
- ...

## 🏗️ 架构/结构变化

[ASCII diagram 描述架构变化，如适用]

```
文件结构示意:
├── 新增文件...
├── 修改文件...
└── 删除文件...
```

## 📊 详细流程图

[必须包含至少一个详细的 ASCII 流程图，参考上方示例]

## 📁 主要文件说明

| 文件 | 变更类型 | 说明 |
|------|----------|------|
| xxx.md | 新增 | xxx |
| xxx.js | 修改 | xxx |
| ... | ... | ... |

## 🔧 关键技术决策

- **决策1**: [选择了什么] - [为什么]
- **决策2**: [选择了什么] - [为什么]

## ✅ 测试计划

- [ ] 测试项 1
- [ ] 测试项 2

---

🤖 Generated with [Claude Code](https://claude.com/claude-code)
```

## gh pr create 命令格式

```bash
gh pr create --title "标题" --body "$(cat <<'EOF'
PR body 内容...
EOF
)"
```

## 注意事项

- 确保当前分支已推送到远程
- PR 标题简洁明了，body 详细描述
- 如有相关 issue，在描述中关联
- **业务价值部分用老板能听懂的语言**，避免技术术语
- **必须包含至少一个详细 ASCII 流程图**
